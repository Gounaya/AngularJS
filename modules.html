<!DOCTYPE html>
<html>
<head>
  <title>Angular</title>
</head>

<!-- modules : keep the system more organized and to avoid mix a little of everything -->

<body ng-app="AngularAPP"> <!--before it was just a ng-app-->
    <div ng-controller="CommentsCtrl">
        <input type="text" ng-model="query"/>{{query}}
        <select ng-model="order">
            <option value="username">Organiser par nom</option>
            <option value="content">Organiser par contenu</option>
        </select>

        <div ng-repeat="comment in comments | filter:{content: query} | orderBy:order">
            <p>
                <strong>{{comment.username}}</strong><br>
                {{comment.content}}
            </p>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
    
    <script>
        var app = angular.module('AngularAPP',[]); // table to inject to the my application dfferent modules
        // starting route with app.config
        app.config(function ($routeProvider){
            $routeProvider
                .when('/',{templateUrl: 'partials/home.html'})
                .when('/comments',{templateUrl: 'partials/comments.html'})
                .otherwise({redirectTo: '/'})
        });
        app.controller('CommentsCtrl', function($scope){
            $scope.comments = [
            {
                "username": "Rowena",
                "city": "Dunnavant",
                "email": "rowenadodson@futurity.com",
                "content": "Voluptate fugiat dolore veniam do ut et anim excepteur ullamco occaecat id occaecat aute ea."
            },
            {
                "username": "Roach",
                "city": "Curtice",
                "email": "roachdodson@futurity.com",
                "content": "Anim aliquip magna dolor exercitation proident esse occaecat fugiat do laborum et nostrud."
            },
            {
                "username": "Karen",
                "city": "Delwood",
                "email": "karendodson@futurity.com",
                "content": "In esse consequat duis duis consequat fugiat culpa non tempor."
            },
            {
                "username": "House",
                "city": "Witmer",
                "email": "housedodson@futurity.com",
                "content": "Lorem cupidatat in reprehenderit eiusmod et."
            },
            {
                "username": "Sosa",
                "city": "Glidden",
                "email": "sosadodson@futurity.com",
                "content": "Minim duis voluptate laboris eu dolore esse occaecat enim culpa et esse adipisicing."
            }
            ];
        });

    </script>
</body>
<!-- angular-ui (site) : style code  -->
</html>
